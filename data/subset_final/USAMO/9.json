{
  "competition_id": "1981_USAMO_Problems",
  "problem_id": 2,
  "difficulty": 8,
  "problem": "What is the largest number of towns that can meet the following criteria. Each pair is directly linked by just one of air, bus or train. At least one pair is linked by air, at least one pair by bus and at least one pair by train. No town has an air link, a bus link and a train link. No three towns, $A, B, C$ are such that the links between $AB, AC$ and $BC$ are all air, all bus or all train.",
  "solutions": {
    "Solution": "Assume $AB$, $AC$, and $AD$ are all rail.\nNone of $BC$, $CD$, or $CD$ can be rail, as those cities would form a rail triangle with $A$.\nIf $BC$ is bus, then $BD$ is bus as well, as otherwise $B$ has all three types.\nHowever, $CD$ cannot be rail (as $\\triangle ACD$ would be a rail triangle), bus (as $BCD$ would be a bus triangle), or ferry (as $C$ and $D$ would have all three types).\nTherefore, no city can have three connections of the same type.\n\nAssume there are 5 towns - $A$, $B$, $C$, $D$, and $E$.\nTwo connections from $A$ must be of one type, and two of another; otherwise there would be at least three connections of the same type from $A$, which has been shown to be impossible.\nLet $AB$ and $AC$ be rail connections, and $AD$ and $AE$ be bus.\nAssume $CD$ is air.\n$BC$ cannot be rail ($\\triangle ABC$ would be a rail triangle) or bus ($C$ would have all three types), so $BC$ must be air.\n$DE$ cannot be bus ($\\triangle ADE$ would be a bus triangle) or rail ($D$ would have all three types), so $DE$ must be air.\n$BE$ cannot be rail ($E$ would have all three types) or bus ($B$ would have all three types), so $BE$ must be air.\nHowever, $BD$ cannot be rail ($D$ would have all three types), bus ($B$ would have all three types), or air ($D$ would have three air connections).\nTherefore, the assumption that $CD$ is air is false.\n$CD$ can equally be rail or bus; assume it is bus.\n$BC$ cannot be rail ($\\triangle ABC$ would be a rail triangle) or air ($C$ would have all three types), so $BC$ must be bus.\n$BD$ cannot be air ($B$ would have all three types) or bus ($D$ would have three bus connections), so $BD$ must be rail.\n$DE$ cannot be air ($D$ would have all three types) or bus ($D$ would have three bus connections), so $DE$ must be rail.\n$CE$ cannot be air ($C$ would have all three types) or bus ($E$ would have three bus connections), so $CE$ must be rail.\nThe only connection remaining is $BE$, which cannot be orange as both $B$ and $D$ would have all three types, but this means there are no air connections.\nTherefore, it is impossible with five (or more) towns.\n\nA four-town mapping is possible:\n$AB$, $BC$, $CD$, and $DA$ are connected by bus.\n$AC$ is connected by rail.\n$BD$ is connected by air.\nTherefore, the maximum number of towns is $4$."
  }
}