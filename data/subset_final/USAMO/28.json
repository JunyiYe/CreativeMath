{
  "competition_id": "2012_USAMO_Problems",
  "problem_id": 3,
  "difficulty": 9,
  "problem": "Determine which integers $n > 1$ have the property that there exists an infinite sequence $a_1$, $a_2$, $a_3$, $\\dots$ of nonzero integers such that the equality\n\\[a_k + 2a_{2k} + \\dots + na_{nk} = 0\\]\nholds for every positive integer $k$.",
  "solutions": {
    "Solution that involves a non-elementary result": "(Since Bertrand's is well known and provable using elementary techniques, I see nothing wrong with this-tigershark22)\nFor $n=2$, $|a_1| = 2 |a_2| = \\cdots = 2^m |a_{2^m}|$ implies that for any positive integer $m$, $|a_1| \\ge 2^m$, which is impossible.\nWe proceed to prove that the infinite sequence exists for all $n\\ge 3$.\nFirst, one notices that if we have $a_{xy} = a_x a_y$ for any integers $x$ and $y$, then it is suffice to define all $a_x$ for $x$ prime, and one only needs to verify the equation (*)\n\\[a_1+2a_2+\\cdots+na_n=0\\]\nfor the other equations will be automatically true.\nTo proceed with the construction, I need the following fact: for any positive integer $m>2$, there exists a prime $p$ such that $\\frac{m}{2} <p \\le m$.\nTo prove this, I am going to use  () without proof. The Theorem states that, for any integer $n>1$, there exists a prime $p$ such that $n<p\\le 2n-1$. In other words, for any positive integer $m>2$, if $m=2n$ with $n>1$, then there exists a prime $p$ such that $\\frac{m}{2} < p <  m$, and if $m=2n-1$ with $n>1$, then there exists a prime $p$ such that $\\frac{m+1}{2} <p\\le m$, both of which guarantees that for any integer $m>2$, there exists a prime $p$ such that $\\frac{m}{2} <p \\le m$.\n\n\nGo back to the problem. Suppose $n\\ge 3$. Let the largest two primes not larger than $n$ are $P$ and $Q$, and that $n\\ge P > Q$. By the fact stated above, one can conclude that $2P > n$, and that $4Q = 2(2Q) \\ge 2P > n$. Let's construct $a_n$:\nLet $a_1=1$. There will be three cases: (i) $Q>\\frac{n}{2}$,  (ii) $\\frac{n}{2} \\ge Q > \\frac{n}{3}$, and (iii) $\\frac{n}{3} \\ge Q > \\frac{n}{4}$.\nCase (i): $2Q>n$. Let $a_x = 1$ for all prime numbers $x<Q$, and $a_{xy}=a_xa_y$, then (*) becomes:\n\\[Pa_P + Qa_Q = C_1\\]\nCase (ii): $2Q\\le n$ but $3Q > n$. In this case, let $a_2=-1$, and $a_x = 1$ for all prime numbers $2<x<Q$, and $a_{xy}=a_xa_y$, then (*) becomes:\n\\[Pa_P + Qa_Q - Qa_{2Q} = C_2\\]\nor\n\\[Pa_P - Qa_Q = C_2\\]\nCase (iii): $3Q\\le n$. In this case, let $a_2=3$, $a_3=-2$, and $a_x = 1$ for all prime numbers $3<x<Q$, and $a_{xy}=a_xa_y$, then (*) becomes:\n\\[Pa_P + Qa_Q + 3Qa_{2Q} - 2Qa_{3Q} = C_3\\]\nor\n\\[Pa_P + Qa_Q = C_3\\]\nIn each case, by Bezout's Theorem, there exists non zero integers $a_P$ and $a_Q$ which satisfy the equation. For all other primes $p > P$, just let $a_p=1$ (or any other non-zero integer).\nThis construction is correct because, for any $k> 1$, \n\\[a_k + 2 a_{2k} + \\cdots n a_{nk} =  a_k (1 + 2 a_2 + \\cdots n a_n ) = 0\\]\nSince Bertrand's Theorem is not elementary, we still need to wait for a better proof."
  }
}